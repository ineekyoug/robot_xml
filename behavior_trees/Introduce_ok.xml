<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4"
      main_tree_to_execute="MainTree">
    <BehaviorTree ID="MainTree">
            <Sequence>
                <Parallel failure_count="1"
                          success_count="3">
                        <TorsoAction server_name="/Torso/torso_action_service"
                                server_timeout="60000"
                                torso_height="35.0"
                                torso_yaw="35.0"
                                head_pitch="0.0"
                                head_yaw="0.0"
                                max_velocity="0.15"
                                work_mode="0"
                                success="{success}"
                                msg="{msg}"/>
                        <ArmAction server_name="/arm"
                                server_timeout="30000"
                                action_name="move_to_metal_pick_standby"
                                action_index="0"
                                action_param="0"
                                arm_index="1"
                                goal_left="0;0;0;0;0;0;1"
                                waypoints_left=""
                                goal_right="0;0;0;0;0;0;1"
                                waypoints_right="0;-20;0;0;0;0;0;
                                                31.4997;-0.54142;-84.1911;107.9757;106.9757;21.8005;-20.9168
                                                "                   
                                speed_percentage="40"
                                force_thres_left=""
                                ik_initial_joint_left=""
                                force_thres_right=""
                                ik_initial_joint_right=""
                                disable_self_or_obstacle_avoidance_planning="true"
                                enable_replan="false"
                                disable_force_collision_detection="true"
                                disable_self_or_obstacle_collision_detection="true"
                                msg="{arm_msg}"
                                pose="{arm_pose}"/>
                        <HandAction server_name="/avaia_hand"
                                        server_timeout="2000"
                                        action_name="ok_right"
                                        success="{hand_success}"
                                        status="{hand_status}"/>  
                </Parallel>

                <SleepAction msec="3000"/>

                <Parallel failure_count="1"
                          success_count="2">
                        <HandAction server_name="/avaia_hand"
                                        server_timeout="2000"
                                        action_name="reset_right"
                                        success="{hand_success}"
                                        status="{hand_status}"/>  

                        <ArmAction server_name="/arm"
                                server_timeout="30000"
                                action_name="move_to_metal_pick_standby"
                                action_index="0"
                                action_param="0"
                                arm_index="1"
                                goal_left="0;0;0;0;0;0;1"
                                waypoints_left=""
                                goal_right="0;0;0;0;0;0;1"
                                waypoints_right="0;-20;0;0;0;0;0;
                                                0;-1;0;0;0;0;0
                                                "                   
                                speed_percentage="40"
                                force_thres_left=""
                                ik_initial_joint_left=""
                                force_thres_right=""
                                ik_initial_joint_right=""
                                disable_self_or_obstacle_avoidance_planning="true"
                                enable_replan="false"
                                disable_force_collision_detection="true"
                                disable_self_or_obstacle_collision_detection="true"
                                msg="{arm_msg}"
                                pose="{arm_pose}"/>
                </Parallel>
            </Sequence>
    </BehaviorTree>
</root>
